---
import { Image } from "astro:assets";
import type { ComponentProps } from "astro/types";

type Props = ComponentProps<typeof Image> & { caption: string };

const { src, alt, width, height, caption } = Astro.props;
---

<figure class:list={[""]}>
  {
    width && height ? (
      // @ts-expect-error
      <Image src={src} alt={alt} width={width} height={height} class="" />
    ) : (
      // @ts-expect-error
      <Image src={src} alt={alt} inferSize class="" />
    )
  }
  {caption && <figcaption>{caption}</figcaption>}
</figure>
